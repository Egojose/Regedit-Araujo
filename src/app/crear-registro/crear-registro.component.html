<ng-container *ngIf="PermisosCrearRegistro">

  <div class="container">
    <!-- <pre class="card card-block card-header mb-3">Model: {{selectedValue | json}}</pre>
    <pre class="card card-block card-header mb-3">Selected option: {{selectedOption | json}}</pre> -->
    <form autocomplete="off" class="formulario" [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
      <div>
        <div class="text-center title">
          <h4>Crear registro de empleado</h4>
        </div>
        <br>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="Usuario">Usuario<span class="req">*</span></label>
            <select id="usuario" formControlName="usuario" class="form-control" (change)="obtenerInfoEmpleado($event)">
              <option *ngFor="let usuario of dataUsuarios" [value]="usuario.value" [text]="usuario.label">
                {{usuario.label}}
              </option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="Centro de costos">Centro de costos</label>
            <input formControlName="ceco" [typeahead]="dataCeco" typeaheadOptionField="value"
              (typeaheadOnSelect)="onSelect($event)" placeholder="Centro de costos" class="form-control">
          </div>
          <div class="form-group col-md-4">
              <label for="Unidad de negocio">Unidad de negocio</label><span class="req">*</span>
              <select class="form-control" formControlName="unidadNegocio" (change)="changeUnidad($event)">
                <option *ngFor="let unidad of unidadNegocios" [value]="unidad.Id" [text]="unidad.Title">{{unidad.Title}}</option>
              </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6"
            [ngClass]="{'has-error': empleadoForm.get('primerNombre').errors && (empleadoForm.get('primerNombre').touched || empleadoForm.get('primerNombre').dirty)}">
            <label for="inputNombre1">Primer Nombre<span class="req">*</span></label>
            <input type="text" class="form-control" id="inputNombre1" formControlName="primerNombre">
          </div>
          <div class="form-group col-md-6">
            <label for="inputnombre2">Segundo Nombre</label>
            <input type="text" class="form-control" id="inputNombre2" formControlName="segundoNombre">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputApellido1">Primer Apellido<span class="req">*</span></label>
            <input type="text" class="form-control" id="inputApellido1" formControlName="primerApellido">
          </div>
          <div class="form-group col-md-4">
            <label for="inputApellido2">Segundo Apellido</label>
            <input type="text" class="form-control" id="inputApellido2" formControlName="segundoApellido">
          </div>
          <div class="col-md-4 form-group">
            <label for="Fecha de ingreso">Fecha de nacimiento<span class="req">*</span> (dd/MM/AAAA)</label>
            <input type="text" class="form-control" formControlName="fechaNacimiento" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputDoc">Tipo de Documento</label>
            <select id="inputDoc" class="form-control" formControlName="tipoDocumento">
              <option value="Cédula">Cédula</option>
              <option value="Cédula de extranjería">Cédula de extranjería</option>
              <option value="Pasaporte">Pasaporte</option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="inputNumd">Número de Documento<span class="req">*</span></label>
            <input type="text" class="form-control" id="inputNumd" formControlName="numeroDocumento">
          </div>
          <div class="form-group col-md-4">
            <label for="inputExp">Lugar de Expedición</label>
            <input type="text" class="form-control" id="inputExp" formControlName="lugarExpedicion">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="inputAdress">Dirección</label>
            <input type="text" class="form-control" id="inputAdress" formControlName="direccion">
          </div>
          <div class="form-group col-md-4">
            <label for="inputPhone">Celular</label>
            <input type="text" class="form-control" id="inputPhone" formControlName="celular">
          </div>
          <div class="form-group col-md-4">
            <label for="inputExt">Extensión</label>
            <input type="text" class="form-control" id="inputExt" formControlName="extension">
          </div>
        </div>
        <div class="form-row">
          <div class="col-md-4 form-group">
            <label for="Contacto de emergencia">Contacto de emergencia</label>
            <input type="text" class="form-control" formControlName="contactoEmergencia">
          </div>
          <div class="col-md-4 form-group">
            <label for="Contacto de emergencia">Número del contacto</label>
            <input type="text" class="form-control" formControlName="numeroContactoEmergencia">
          </div>
          <div class="col-md-4 form-group">
              <label for="Grupo sanguíneo">Grupo sanguíneo</label>
              <select class="form-control" formControlName="grupoSanguineo">
                <option value="A-">A-</option>
                <option value="B-">B-</option>
                <option value="O-">O-</option>
                <option value="AB-">AB-</option>
                <option value="A+">A+</option>
                <option value="B+">B+</option>
                <option value="O+">O+</option>
                <option value="AB+">AB+</option>
              </select>
            </div>
        </div>
      </div>
      <hr>
      <!-- <div class="form-row">
        <div class="col-md-3">
          <label for="Idiomas">Idiomas</label>
          <input type="text" class="form-control" formControlName="idioma">
        </div>
        <div class="col-md-1">
          <label for="Porcentaje">Porcentaje</label>
          <input type="text" class="form-control" formControlName="porcentajeIdioma">
        </div>
        <div class="col-md-1 boton">
          <button type="button" class="btn btn-primary" (click)="agregarIdiomas()">Confirmar</button>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-1"></div>
        <div class="col-md-3">
          <label for="Idiomas">Herramientas ofimáticas</label>
          <input type="text" class="form-control" formControlName="herramienta">
        </div>
        <div class="col-md-1">
          <label for="Porcentaje">Porcentaje</label>
          <input type="text" class="form-control" formControlName="porcentajeHerramienta">
        </div>
        <div class="col-md-1 boton">
          <button type="button" class="btn btn-primary" (click)="agregarHerramientas()">Confirmar</button>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-5">
          <table class="table table-bordered" *ngIf="arrayIdiomas.length > 0">
            <thead>
              <tr>
                <th scope="col">Idioma</th>
                <th scope="col">% dominio</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let idioma of arrayIdiomas; let i = index">
                <td>{{idioma.idioma}}</td>
                <td>{{idioma.porcentaje}}</td>
                <td><button type="button" class="btn btn-danger" (click)="borrar(arrayIdiomas, i)">Borrar</button></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-1"></div>
        <div class="col-md-5">
          <table class="table table-bordered" *ngIf="arrayHerramientas.length > 0">
            <thead>
              <tr>
                <th scope="col">Herramienta</th>
                <th scope="col">% dominio</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let herramienta of arrayHerramientas; let i = index">
                <td>{{herramienta.herramienta}}</td>
                <td>{{herramienta.porcentaje}}</td>
                <td><button type="button" class="btn btn-danger" (click)="borrar(arrayHerramientas,i)">Borrar</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <br> -->
      <div class="form-row">
        <div class="col-md-4 form-group">
          <label for="estudios">Estudios realizados</label>
          <input type="text" class="form-control" formControlName="estudios">
        </div>
        <div class="col-md-6">
          <label for="certificados">Cargar certificado</label>
          <input type="file" name="certificado" class="form-control" formControlName="estudiosDoc" (change)="cargarDocCertificado($event)">
        </div>
        <div class="col-md-1 boton" *ngIf="urlCertificados.length > 1">
          <button type="button" class="btn btn-primary" (click)="cargarDocTablaEstudios()">Confirmar</button>
        </div>
      </div>
      <br>
      <div class="form-row" >
        <div class="col-md-12">
          <table class="table table-bordered" *ngIf="arrayEstudios.length > 0">
            <thead>
              <tr>
                <th scope="col">Estudio</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let estudio of arrayEstudios; let i = index">
                <td>{{estudio.estudio}}</td>
                <td><button type="button" class="btn btn-danger" (click)="borrar(arrayEstudios, i)">Borrar</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-5 form-group">
          <label for="estudios">Perfil de rol</label>
          <input type="text" class="form-control" formControlName="perfil" [readonly]="disable">
        </div>
        <div class="col-md-6">
          <label for="certificados">Cargar documento</label>
          <input type="file" name="certificado" class="form-control" formControlName="perfilDoc" (change)="cargarDocPerfil($event)">
        </div>
        <div class="col-md-1 boton" *ngIf="urlDocPerfil.length > 1">
          <button type="button" class="btn btn-warning" (click)="corregir()">¿Corregir?</button>
        </div>
      </div>
      <br>
      <div class="form-row" >
        <div class="col-md-6 form-group">
          <label for="gustos">Gustos e intereses</label>
          <input type="text" class="form-control" formControlName="gustos">
        </div>
        <div class="col-md-5 form-group">
          <label for="capacitar">Puede ofrecer capacitación en:</label>
          <input type="text" class="form-control" formControlName="capacitar">
        </div>
        <div class="col-md-1  boton">
          <button type="button" class="btn btn-primary" (click)="cargarTablaCapacitar()">Confirmar</button>
        </div>
      </div>
      <div class="for-row">
        <div class="col-md-6 offset-6">
          <table class="table table-bordered" *ngIf="arrayCapacitar.length > 0">
            <thead>
              <tr>
                <th scope="col">Area de capacitación</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let capacitacion of arrayCapacitar; let i = index">
                <td>{{capacitacion.puedeCapacitar}}</td>
                <td><button type="button" class="btn btn-danger" (click)="borrar(arrayCapacitar, i)">Borrar</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6">
          <label for="foto">Foto de perfil</label>
          <input type="file" name="fotoPerfil" class="form-control" (change)="adjuntarFoto($event)">
        </div>
        <div class="col-md-6">
          <label for="contrato">Cargar contrato</label>
          <input type="file" name="fotoPerfil" class="form-control" (change)="adjuntarContrato($event)">
        </div>
      </div>
      <hr>
      <div class="formulario">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="Jefe">Jefe<span class="req">*</span></label>
             <select id="usuario" formControlName="jefe" class="form-control">
              <option *ngFor="let usuario of dataUsuarios" [value]="usuario.value" [text]="usuario.label">
                {{usuario.label}}
              </option>
            </select>
            <!-- <mat-form-field id="jefe">
              <mat-label>Jefe<span class="req">*</span></mat-label>
              <mat-select formControlName="jefe" multiple>
                <mat-option *ngFor="let usuario of dataUsuarios" [value]="usuario.value" (onSelectionChange)="SeleccionarUsuariosResp(usuario)">{{usuario.label}}</mat-option>
              </mat-select>
            </mat-form-field> -->
          </div>
          <div class="form-group col-md-6">
            <label for="Jefe">Jefe adicional</label>
             <select id="usuario" formControlName="jefeAdicional" class="form-control">
              <option [value]="null">Ninguno</option> 
              <option *ngFor="let usuario of dataUsuarios" [value]="usuario.value" [text]="usuario.label">
                {{usuario.label}}
              </option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="Sede">Sede</label>
            <select type="text" class="form-control" formControlName="sede">
              <option *ngFor="let sede of sede" [value]="sede.nombre" [text]="sede.nombre">{{sede.nombre}}
              </option>
            </select>
          </div>
          <div class="form-group col-md-6">
            <label for="Area">Área</label>
            <select type="text" class="form-control" formControlName="area">
              <option *ngFor="let area of area" [value]="area.nombre" [text]="area.nombre">{{area.nombre}}
              </option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="Cargo">Cargo</label>
            <select type="text" class="form-control" formControlName="cargo">
              <option *ngFor="let cargo of cargo" [value]="cargo.nombre" [text]="cargo.nombre">{{cargo.nombre}}
              </option>
            </select>
          </div>
          <div class="form-group col-md-4">
            <label for="Salario">Salario</label>
            <input currencyMask
              [options]="{ prefix: ' ', thousands: '.', decimal: ',', align: 'left' , allowNegative: false, precision: 0 }"
              type="text" class="form-control" id="inputnombre1" placeholder="Salario" formControlName="salario">
          </div>
          <div class="form-group col-md-4">
            <label for="Salario en Letras">Salario en letras</label>
            <input type="text" class="form-control" id="inputnombre2" formControlName="salarioTexto">
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 form-group">
            <label for="Tipo de contrato">Tipo de contrato</label>
            <select type="text" class="form-control" placeholder="Tipo de contrato" formControlName="tipoContrato">
              <option value="Integral">Integral</option>
              <option value="Ordinario">Ordinario</option>
              <option value="Aprendiz Sena">Aprendiz Sena</option>
              <option value="Practicante universitario">Practicante universitario</option>
            </select>
          </div>
          <div class="col-md-4 form-group">
            <label for="Término del contrato">Término del contrato</label>
            <select class="form-control" formControlName="terminoContrato">
              <option value="Indefinido">Indefinido</option>
              <option value="Fijo">Fijo</option>
              <option value="Obra o labor">Obra o labor</option>
            </select>
          </div>
          <div class="col-md-4 form-group">
            <label for="Fecha de ingreso">Fecha de ingreso<span class="req">*</span> (dd/MM/AAAA)</label>
            <input type="text" class="form-control" formControlName="fechaIngreso" bsDatepicker
              [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }">
          </div>
        </div>

        <ng-container *ngIf="empleadoForm.get('terminoContrato').value === 'Fijo'">
          <div class="row">
            <div class="col-md-4 form-group">
              <label for="Fecha de salida">Fecha de salida (dd/MM/AAAA)</label>
              <input type="text" class="form-control" formControlName="fechaSalida" bsDatepicker
                [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }">
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="empleadoForm.get('tipoContrato').value == 'Integral' || empleadoForm.get('tipoContrato').value == 'Ordinario'">
          <div class="row">
            <div class="col-md-4 form-group">
              <label for="Bono sodexo canasta">Bono sodexo canasta</label>
              <input currencyMask
                [options]="{ prefix: ' ', thousands: '.', decimal: ',', align: 'left' , allowNegative: false, precision: 0 }"
                type="text" class="form-control" placeholder="Bono" formControlName="bono">
            </div>
            <div class="col-md-4 form-group">
                <label for="Bono sodexo gasolina">Bono sodexo gasolina</label>
                <input currencyMask
                  [options]="{ prefix: ' ', thousands: '.', decimal: ',', align: 'left' , allowNegative: false, precision: 0 }"
                  type="text" class="form-control" placeholder="Bono" formControlName="bonoGasolina">
              </div>
            <div class="col-md-4 form-group">
              <label for="Aportes voluntarios">Aportes voluntarios</label>
              <input currencyMask
                [options]="{ prefix: ' ', thousands: '.', decimal: ',', align: 'left' , allowNegative: false, precision: 0 }"
                type="text" class="form-control" placeholder="AFP" formControlName="afp">
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="empleadoForm.get('tipoContrato').value == 'Practicante universitario'">
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="Universidad">Universidad</label>
              <input type="text" class="form-control" formControlName="universidad">
            </div>
            <div class="col-md-6 form-group">
              <label for="Carrera">Carrera</label>
              <input type="text" class="form-control" formControlName="carrera">
            </div>
          </div>
        </ng-container>
      </div>
      <!-- <div class="formulario">
        <div class="text-center">
          <h5>Adjuntar archivos</h5>
          <hr>
        </div>
        <div class="row text-center form-group">
          <div class="col-md-6">
            <label for="Hoja de vida">Hoja de vida</label>
            <input type="file" name="adjuntoHV" class="form-control" (change)="adjuntarHojaDeVida($event)">
          </div>
          <div class="col-md-6">
            <label for="Hoja de vida">Certificados</label>
            <input type="file" name="adjuntoCertificados" class="form-control" (change)="adjuntarCertificados($event)">
          </div>
        </div>
        <div class="row text-center form-group">
          <div class="col-md-6">
            <label for="Hoja de vida">Diplomas</label>
            <input type="file" name="adjuntoDiplomas" class="form-control" (change)="adjuntarDiplomas($event)">
          </div>
          <div class="col-md-6">
            <label for="Hoja de vida corporativa">Hoja de vida corporativa</label>
            <input type="file" name="Hoja de vida corporativa" class="form-control"
              (change)="adjuntarHVcorporativa($event)">
          </div>
        </div>
      </div> -->
      <br>
      <div class="modal-footer">
        <button type="submit" class="btn btn-success btn-lg">Guardar</button>
        <button type="button" class="btn btn-danger btn-lg" (click)="cancelar()">Cancelar</button>
      </div>
    </form>
  </div>
</ng-container>
<br>
<ng-container *ngIf="!PermisosCrearRegistro">
  <div class="col-md-4 offset-md-4 text-center">
    <div class="card inicio">
      <div class="card-header">
        <h3>Acceso denegado</h3>
      </div>
      <div class="card-body">
        <h5 class="detalles">Detalles:</h5>
        <p>Usted no tiene permisos para crear registros.</p>
        <p>Si pertenece al área de gestión humana y requiere permisos, por favor pónganse en contacto con el
          administrador de Sharepoint.</p>
      </div>
    </div>
  </div>
  <br>
</ng-container>